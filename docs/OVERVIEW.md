# 概要（OVERVIEW）

## 目的

公開ウェブサイト上で、以下の体験を**最小の労力**で成立させる。

1. 訪問者がサイトを開くと、**1時間に1枚更新**されるサンプル作品が表示される  
2. 訪問者が購入導線（Purchase / Generate）を押すと、**その瞬間の最新データ**から作品を生成し、プレビュー表示  
3. 訪問者がOKすれば決済（Stripe Checkout）を行い、注文が確定する  
4. 作品は**額装アート（framed print）**として配送される（MVPでは手動でも可）

このリポジトリは「アートのコンセプト」ではなく、**仕組み（パイプライン）**を先に動かすための土台。

---

## スコープ

### MVP（このリポジトリの最初の到達点）

- Cloudflare上での定期サンプル生成（Cron）
- 最新サンプルの表示（Pages）
- 購入クリックによるプレビュー生成（Workers）
- Stripe Checkout（テスト）とWebhook受信
- 注文状態の保存（D1）
- 生成物の保存と配信（R2→Workers経由）

### 非スコープ（後回し）

- 額装PODの自動発注（Gelato / Printful 等）
- 本番クオリティの印刷用PDF生成（色管理やdpiなど）
- 多言語、顧客対応、返品フロー等の運用設計

---

## ユーザーフロー

### 訪問者

1. `Pages` を訪問
2. 最新サンプルを閲覧（毎時更新）
3. 「購入」→ プレビュー生成
4. 「OK」→ Stripe Checkout
5. 決済完了 → Success page（MVPは簡素）

### 制作者（あなた）

- Cron実行の成功/失敗をログで見る
- 受注が入ったら、（MVPでは）手動でPOD発注して発送
- 反応が出たら自動化の優先順位を決める

---

## データの扱い（前提）

- データ取得は2系統：
  - **API取得**（睡眠、心拍などのサービスからサーバ経由）
  - **アップロード**（ローカル保存→R2にアップロード）
- MVPではまず `mock` データで動かす（仕組みの検証を優先）

---

## 用語

- **Sample**: 1時間ごとに自動生成される見せ玉
- **Snapshot**: 作品生成に使った「その瞬間のデータ」を凍結保存したもの（再現性）
- **Preview**: 購入時に生成してユーザーに見せる作品
- **Print master**: 印刷に送る最終データ（将来PDF）
- **Order**: 決済・発送状態を持つ注文レコード

